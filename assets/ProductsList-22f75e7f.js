import{S as a}from"./sweetalert2-4c67a4a3.js";import{_ as m,e as f,r as x,o as r,c,a as t,F as l,f as P,t as g,b as $,w as b,d as T}from"./index-5f2e3aeb.js";const{VITE_APP_URL:d,VITE_APP_PATH:u}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"sasimi",BASE_URL:"/vue-main-week6/",MODE:"production",DEV:!1,PROD:!0},k={data(){return{products:[]}},components:{RouterLink:f},methods:{getProducts(){const n=`${d}/api/${u}/products/all`;this.$http.get(n).then(e=>{this.products=e.data.products}).catch(e=>{a.fire({icon:"error",title:`錯誤 ${e.response.status}`,text:e.response.data.message,confirmButtonText:"OK"})})},addToCart(n){const e=`${d}/api/${u}/cart`,i={product_id:n.id,qty:1};this.$http.post(e,{data:i}).then(s=>{a.fire({icon:"success",title:s.data.message,text:`${s.data.data.product.title} 加入購物車成功`,confirmButtonText:"OK"})}).catch(s=>{a.fire({icon:"error",title:`錯誤 ${s.response.status}`,text:s.response.data.message,confirmButtonText:"OK"})})}},mounted(){this.getProducts()}},E=t("h1",{class:"text-center"},"這是前台商品列表",-1),L={class:"table"},V=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"商品名稱"),t("th",{class:"text-center"},"商品圖示"),t("th",{class:"text-center"},"連結")])],-1),A=["src"],B=["onClick"];function R(n,e,i,s,_,p){const h=x("RouterLink");return r(),c(l,null,[E,t("table",L,[V,t("tbody",null,[(r(!0),c(l,null,P(_.products,o=>(r(),c("tr",{key:o.id,class:"align-middle"},[t("td",null,g(o.title),1),t("td",null,[t("img",{src:o.imageUrl,class:"object-fit-contain border rounded",width:"200",height:"200",alt:""},null,8,A)]),t("td",null,[$(h,{class:"btn btn-outline-primary",to:`/product/${o.id}`},{default:b(()=>[T("商品明細")]),_:2},1032,["to"]),t("button",{type:"button",onClick:y=>p.addToCart(o),class:"btn btn-outline-danger"},"加入購物車",8,B)])]))),128))])])],64)}const w=m(k,[["render",R]]);export{w as default};
