import{S as a}from"./sweetalert2-4c67a4a3.js";import{_ as m,e as g,r as f,o as c,c as l,a as t,F as i,f as x,t as P,b as $,w as b,d as T}from"./index-45f447e3.js";const{VITE_APP_URL:d,VITE_APP_PATH:u}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"sasimi",BASE_URL:"/vue-main-week6/",MODE:"production",DEV:!1,PROD:!0},k={data(){return{products:[]}},components:{RouterLink:g},methods:{getProducts(){const o=`${d}/api/${u}/products/all`;this.$http.get(o).then(e=>{console.log(e.data),this.products=e.data.products}).catch(e=>{console.log(e),a.fire({icon:"error",title:`錯誤 ${e.response.status}`,text:e.response.data.message,confirmButtonText:"OK"})})},addToCart(o){console.log(o);const e=`${d}/api/${u}/cart`,r={product_id:o.id,qty:1};this.$http.post(e,{data:r}).then(s=>{console.log(s.data),a.fire({icon:"success",title:s.data.message,text:`${s.data.data.product.title} 加入購物車成功`,confirmButtonText:"OK"})}).catch(s=>{console.log(s),a.fire({icon:"error",title:`錯誤 ${s.response.status}`,text:s.response.data.message,confirmButtonText:"OK"})})}},mounted(){this.getProducts()}},E=t("h1",{class:"text-center"},"這是前台商品列表",-1),L={class:"table"},V=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"商品名稱"),t("th",{class:"text-center"},"商品圖示"),t("th",{class:"text-center"},"連結")])],-1),A=["src"],B=["onClick"];function R(o,e,r,s,_,h){const p=f("RouterLink");return c(),l(i,null,[E,t("table",L,[V,t("tbody",null,[(c(!0),l(i,null,x(_.products,n=>(c(),l("tr",{key:n.id,class:"align-middle"},[t("td",null,P(n.title),1),t("td",null,[t("img",{src:n.imageUrl,class:"object-fit-contain border rounded",width:"200",height:"200",alt:""},null,8,A)]),t("td",null,[$(p,{class:"btn btn-outline-primary",to:`/product/${n.id}`},{default:b(()=>[T("商品明細")]),_:2},1032,["to"]),t("button",{type:"button",onClick:y=>h.addToCart(n),class:"btn btn-outline-danger"},"加入購物車",8,B)])]))),128))])])],64)}const w=m(k,[["render",R]]);export{w as default};
