import{S as h}from"./sweetalert2-4c67a4a3.js";import{_ as m,R as p,r as i,o as _,c as f,a as s,b as o,w as r,br as k,d as a}from"./index-45f447e3.js";const{VITE_APP_URL:x}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"sasimi",BASE_URL:"/vue-main-week6/",MODE:"production",DEV:!1,PROD:!0},$={components:{RouterView:p},methods:{logout(){document.cookie=`hexToken=; expires=${new Date};`,this.$router.push("/login")},getTokenFromCookie(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t},chekcAuth(){const t=`${x}/api/user/check`;this.$http.post(t).then(e=>{}).catch(e=>{h.fire({icon:"error",title:`錯誤 ${e.response.status}`,text:e.response.data.message,confirmButtonText:"Got It!"}).then(u=>{this.$router.push("/login")})})}},mounted(){this.getTokenFromCookie(),this.chekcAuth()}},T={class:"p-3"},V=s("span",{class:"fs-3"},"後台管理",-1),w=s("hr",null,null,-1);function g(t,e,u,A,P,c){const n=i("router-link"),l=i("RouterView");return _(),f("div",null,[s("nav",T,[V,o(n,{class:"fs-3 ms-2 text-decoration-none",to:"/admin/products"},{default:r(()=>[a("商品管理列表")]),_:1}),o(n,{class:"fs-3 ms-2 text-decoration-none",to:"/admin/orders"},{default:r(()=>[a("訂單管理列表")]),_:1}),o(n,{class:"fs-3 ms-2 text-decoration-none",to:"/"},{default:r(()=>[a("回前台")]),_:1}),s("a",{href:"#",class:"fs-3 ms-2 text-decoration-none",onClick:e[0]||(e[0]=k((...d)=>c.logout&&c.logout(...d),["prevent"]))},"登出")]),w,o(l)])}const E=m($,[["render",g]]);export{E as default};
